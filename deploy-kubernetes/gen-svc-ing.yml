platform: linux

image_resource:
  type: docker-image
  source: {repository: sharor/kubectl}

inputs:
- name: repository

run:
  path: sh
  args:
  - -exc
  - |
    kubectl -server=https://192.168.99.100:8443 --namespace=default --certificate-authority=LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDNXpDQ0FjK2dBd0lCQWdJQkFUQU5CZ2txaGtpRzl3MEJBUXNGQURBVk1STXdFUVlEVlFRREV3cHRhVzVwDQphM1ZpWlVOQk1CNFhEVEUyTVRJd01qRXlNREV4TmxvWERUSTJNVEV6TURFeU1ERXhObG93RlRFVE1CRUdBMVVFDQpBeE1LYldsdWFXdDFZbVZEUVRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBSzM3DQovRVkyMVprSzNzek4xRjZaakh5SzBLbTl6SDhvcG5DQ1R1VDhZdlVmZmdFbTh5ZmRhbTZzaUNUL08yby92L2dNDQpvNzZOS2w3Wjg0azBqTnBhYm8rdHJONFpvVXFyeGxlUTA1RkdDY09oNVFOcnhiVGtmSVdrUVVvQkdCSWxlT3NtDQpEaWpTSVFVSmpqcElwd0V6Ni9vbzB6M0dsLzZIbllzT3VkNUpOZk5PNGJBbWRvZnpCbFZMSHhOL2twQkUycmxyDQpFbkJ3bFZ4YlFEN1ZPTzZHOUhhZTdNeUN5SGhaMUU5N2xJVTR6S0xKUzUzRHFxYmdCdjNwZ0JyakJyMzkrclZzDQpiQjdkOHVCcW9QMWFlTEh1bzRReTZodTFZdW91ZjM4NDhvRUZKZDNCZUZIL0lLUDdTRndZR0Y4ajJQRHRTUVNrDQp3MkFyT1NQY2ppRUo5dnRWM3pNQ0F3RUFBYU5DTUVBd0RnWURWUjBQQVFIL0JBUURBZ0trTUIwR0ExVWRKUVFXDQpNQlFHQ0NzR0FRVUZCd01DQmdnckJnRUZCUWNEQVRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUEwR0NTcUdTSWIzDQpEUUVCQ3dVQUE0SUJBUUFhd09FK3l5c3lMdUJsdXBlQ0ZtSmh4OC9UWXhOWmJOUjh5MU5rVzlMcnd1RTR1dTZ2DQpLb052MlZkTDd5KzRWZVorUlByZWNoT3JEMnFGWG1ZbTNQZ0NWM3YyZHduV3RqV3NoNlNrNXk5VDZnRjg5Vm55DQozUkVQcDQ3QXB1dXcwNHE5YTRobnQwanA0aU9Ba3FzMlQ4UWFHZDBGUkxXZy85TkRnSWFaYU83UExLN0pwK1hRDQpxWHJwMi9Yc2tJczZrRlJkaGluekhJNkw4N2NqayttODc1SEg2dkRad2RxV3QzVDUvTjdIRkI4QmhadE9FRFh0DQpaYzJCL0x3YUd0MnVhSEwrYWx2OEphV1UyWUUvU2F6Ym1MVXhYU0FRbDFpckdjTkRvb3pmSDRHbUV6NDBmOE4vDQpiMzI4SkdmS2VqZ1VoaTBCSkR0UGxYaWt3SmtBQjB1NllwQ04NCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0= --client-key=LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQ0KTUlJRW9nSUJBQUtDQVFFQTR5cUYxUEx2TU1LL3VxNFI1SXBtdUVuOEx2aDhQSEFvSmRVM0laTGNSejRRM2xPYQ0KNmQveUtWTXhmRWRpVlordldLeDNVOEI0cUtVdTI0UlExTnBYSUlyYlNvcjJocDg5ZndKelR0eW1Oc2hPSDNjUA0KMlVpTHQ1RHo1Y0JyZ3dEWlQ3aWxDbmd2QXRxL2J5UGQzRktIanJjQkppb1g4UldiSnBVMWsxSWt1cUU2Z1lTaw0KY1VsbXNsYjU1YzFaalM1MzlrTTJMbHV4T2I3WkJxN0lmME5QRHQzWEJVTjlINUo1VVh1QU9hS2x3TVphL0VzOA0KT1ZMSmVHZFU4UlV3YVhoRjhxaG1lS3NibVpXVGMraG9qWG1tMTNSYmEvYzN1S3EwdWZrb3VrTjZ4cDNQV0Mzcg0KUTVXK0dsYnZyMDBnLzVpV2VFUDVPQkptSE55NjlrRUhld3c2alFJREFRQUJBb0lCQUExTXh3c2hzZ2xielpmag0KYXg3RFQ2SklpcUJCWWh5endGWCt0cnliZVpRZU9TU2JKbjI4NDlPeGtEc2pmc2xla1FpVENHVjU1bGFSWFQzeQ0KOER5V0QvWFN5MllBM3RBZzhKdklDL0k1RHU0MEtnYkRsTVQyNzE4dStHaWlMR2srR25zRlozeEdieEl1dG5pTw0KVkFYN092NkxEbUVxbzc0MHNxRytxS1ZZY05nUVRqaHpJTkk1TitTdUhtclZNd21hQ2o1SUdVeG5ldWc5RWFzMg0KRmQwYUE1Q0JrcnY1Ui8rTUZUL3Jzc1l5VExrR3BCcjdJaGdtbThkZHMvMGVHQ0QwbTBoRjJmYy9xd3kxQm9aSw0KRTZNUUFTdDVJVnhvK1k3NEYwN3E0QTJpYWVyeGdwRXlTYVBUYStCd3p4Q0NkaXBHblpJMmhDbXkrZTBQM1hIdQ0KWGtjdEpPRUNnWUVBK1lvNFRqMjFJS05udlg4eVJlUHZHZmlyT3ZUeUErZlpLQWJqNWZZejZjRWpITEZFTjVnOQ0Kc2dlbThZeFVkM2tGbXBtanpOZXRpeDRMaW11MTZCZUVqd25sRGlDNVc3cEw5eUh4ZmpJN3VLR0RhdnRydEUxYw0KU0pXMVI3cVJJTGJscGx0MFRFeWRlUHZlNWxLamZjYllyQ2FwWXM0OUlvYkxUT21WU0ZoYzUva0NnWUVBNlF3Rw0KUTVBL3U3QzZEZmUrcFlXTVBNOVZzTjJ3Y2VScHpRQ2NDeGFERzc2czFaUmhOM1poRVhxOUY3bHhldnd6OTFIMQ0KVzR3SUlDR01lTjZBd2tkY2c0czI0dGhWOFBQRDVBV1pIUjdBZTlLa3dlYU1VT3F5SmdVSFRObGVjdzZma3RLaQ0KblNmZTNyY0NUNWg1YSszbjQ5dkZ5OWMrR3E5ZVVxUkV1QWJtMURVQ2dZQWdqeGRQcGgrRzlhc29mM3Nvd1ZmRw0KTkxycXcyRDhmM2pIRHpjWEh5dWcyVkZpZ2dLYm1tS2FZd00yU3hBT1VwMFhrZXBjWk52QTVoZXRaT1prTlFWWA0Kd0h2QmZ5V1FRVnQrRUZDNUhZYkxUVStmV3RTdnZ0UkdxRG54OVBiUXBPeUw2eXplYzdTc1AzalM1bjlzZnRCdw0KamM3V0ZJREhpM3psT1NrQU9uOU15UUtCZ0dmeHZBMkFsbHl4eTVxVlNNeHRENHJEODNXS3U3dGc1S3ZTUE1kWg0KU0NzazFkUUJkWWNXWHQ4Ny9vRkpia3NybUVZVW9Ub3U4Q1Rjc2RucmJFUzdMWkZpazUyRVhuaTFVVWN3RkFZQQ0KQkZ4MkxKUnJyMlFiK2srbzZJT25aRkF2VW85Yk1icWs0T3czZG1sb0dhaEJHYS94QTMwU3lSbC81TE01bjRqeA0KVXgyTkFvR0FUa0hrUVRvL1J0Q2FuMFh1TlU3RUgzcXlPeGdXU0tvSDkzTzlGSHViVk9pWklzcHRrQU94WEpwYg0KczVUTnZGdXBSOUx6bm1nM3NFQ3JHS2oyUlNFVGo0dEpRSGpZTGx0cklueXBrbTRJUlN2RXMrWm81Qi80bEtrcQ0KV0N1Y25Kajk0L29WeFd5UFY4dFRoa2pMNm45M3Z5cmxmSXUxVTNVSnpyRGhtTHVyaFJVPQ0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0= --client-certificate=LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlEV1RDQ0FrR2dBd0lCQWdJQkFqQU5CZ2txaGtpRzl3MEJBUXNGQURBVk1STXdFUVlEVlFRREV3cHRhVzVwDQphM1ZpWlVOQk1CNFhEVEUyTVRJeE9UQTROVFF6T1ZvWERURTNNVEl4T1RBNE5UUXpPVm93RXpFUk1BOEdBMVVFDQpBeE1JYldsdWFXdDFZbVV3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRGpLb1hVDQo4dTh3d3IrNnJoSGtpbWE0U2Z3dStIdzhjQ2dsMVRjaGt0eEhQaERlVTVycDMvSXBVekY4UjJKVm42OVlySGRUDQp3SGlvcFM3YmhGRFUybGNnaXR0S2l2YUduejEvQW5OTzNLWTJ5RTRmZHcvWlNJdTNrUFBsd0d1REFObFB1S1VLDQplQzhDMnI5dkk5M2NVb2VPdHdFbUtoZnhGWnNtbFRXVFVpUzZvVHFCaEtSeFNXYXlWdm5selZtTkxuZjJRell1DQpXN0U1dnRrR3JzaC9RMDhPM2RjRlEzMGZrbmxSZTRBNW9xWEF4bHI4U3p3NVVzbDRaMVR4RlRCcGVFWHlxR1o0DQpxeHVabFpOejZHaU5lYWJYZEZ0cjl6ZTRxclM1K1NpNlEzckduYzlZTGV0RGxiNGFWdSt2VFNEL21KWjRRL2s0DQpFbVljM0xyMlFRZDdERHFOQWdNQkFBR2pnYlV3Z2JJd0RnWURWUjBQQVFIL0JBUURBZ1dnTUIwR0ExVWRKUVFXDQpNQlFHQ0NzR0FRVUZCd01CQmdnckJnRUZCUWNEQWpBTUJnTlZIUk1CQWY4RUFqQUFNSE1HQTFVZEVRUnNNR3FDDQpKR3QxWW1WeWJtVjBaWE11WkdWbVlYVnNkQzV6ZG1NdVkyeDFjM1JsY2k1c2IyTmhiSUlXYTNWaVpYSnVaWFJsDQpjeTVrWldaaGRXeDBMbk4yWTRJU2EzVmlaWEp1WlhSbGN5NWtaV1poZFd4MGdncHJkV0psY201bGRHVnpod1RBDQpxR05raHdRS0FBQUJNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUJvMHBrQ25IZEIvUkFJQVpGQXIrSWcyZkJvDQo2ajRJbUVCL29zTktiVVR0ak9hc0dBTzlLcklLU0xUaFlWU3hFb09MK2NSK0FsSzhhZU9wWjVPOXRTdUlJQzlDDQpxVDY0NUN5WmxKb1BqTVJIRXRoMk8xYlhtWDg0R2FPTU1nWDNDWS9aeFBtaGJLbWIxcmErUnRWVHJRZ3V2Y08xDQpJWldJUi9meEtGa21oRDIrY28rZkthQksvWTcwalp5djBFL05oOUlVdkJQbUUzN1lkV3VXT0VoQnF6TVpDWXZlDQozeG9ZRkVqUldZT0kvMmwrdXJmZmxUTTgxY0hSaTdEVXUyS3FqWG5zdXJrVnJnNDZ4NW5CL0JTZzBhR1dhK2I3DQo4dk9UalNmNlRRV21ZTjdRbEp6Tlh6cWQ0WFAvZnlSbGV6cWpVZmxTMzFxWnBDNTlpUHo2MHdjUXpQeEcNCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0= create -f repository/svc.yml



